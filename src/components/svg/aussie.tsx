import React from "react";

import { HatSantaSvgPath } from "./xmas";

export const enum AussieDecoration {
  SantaHat,
}

export interface AussieIconSvgProps
  extends React.PropsWithoutRef<Omit<React.ComponentProps<"use">, "viewBox">> {
  gradient?: { stopColor: string; offset: string }[];
}

export interface AussieIconProps
  extends React.PropsWithoutRef<Omit<React.ComponentProps<"svg">, "viewBox">> {
  gradient?: { stopColor: string; offset: string }[];
  decoration?: AussieDecoration;
}

const AussieIcon: React.FC<AussieIconProps> = ({
  gradient,
  decoration,
  ...props
}) => {
  let aussie = <AussieSvgPath gradient={gradient} />;
  let decor;
  if (decoration == AussieDecoration.SantaHat) {
    const id1 = `santa_hat_aussie_${props.id ?? new Date().getTime()}`;
    const id2 = `aussie_${props.id ?? new Date().getTime()}`;
    aussie = (
      <AussieSvgPath
        id={id1}
        gradient={gradient}
        transform="scale(0.7) translate(100,150)"
      />
    );
    decor = (
      <HatSantaSvgPath
        id={id2}
        transform="scale(0.3) scale(-1,1) translate(-1140,100) rotate(20)"
        primaryClassName="fill-rose-700"
        secondaryClassName="fill-emerald-700"
      />
    );
  }
  return (
    <svg {...props} viewBox="0 0 500 500">
      <svg width={500} height={500}>
        {aussie}
        {decor}
      </svg>
    </svg>
  );
};

export default AussieIcon;

/**
 * The `path` element for an Aussie SVG.
 */
export const AussieSvgPath: React.FC<AussieIconSvgProps> = ({
  gradient,
  ...props
}) => {
  const id = `aussie_${props.id ?? new Date().getTime()}`;
  const gid = `aussie_grad_${props.id ?? new Date().getTime()}`;

  let grad;
  if (gradient != undefined) {
    grad = (
      <linearGradient id={gid}>
        {gradient.map((gr, key) => (
          <stop stopColor={gr.stopColor} offset={gr.offset} key={key} />
        ))}
      </linearGradient>
    );
    props.fill = `url(#${gid})`;
  } else {
    grad = <></>;
  }

  return (
    <>
      <symbol viewBox="0 0 36.38 32.19" id={id}>
        <path d="M1.16,16.13c-.54,.75-.92,1.63-.86,2.65,.03,.43,.14,.86,.16,1.29,.02,.36-.03,.72-.08,1.07-.05,.34,0,.41,.35,.37,.24-.03,.32,.06,.34,.29,.08,.67,.19,1.33,.26,2,.03,.25,.04,.51-.03,.75-.21,.8-.45,1.6-.69,2.39-.07,.22-.09,.37,.12,.53,.58,.44,.55,1.09,.52,1.72,0,.19-.04,.38-.06,.57,.04,.01,.07,.03,.09,.02,.59-.24,.58-.24,.87,.3,.27,.5,.55,1,.82,1.49,.2,.36,.51,.6,.91,.6,.69,0,1.39-.07,2.08-.13,.35-.04,.47-.29,.38-.61-.11-.41-.28-.73-.76-.88-.26-.08-.53-.36-.66-.62-.35-.7-.42-1.43-.19-2.21,.35-1.14,.89-2.14,1.89-2.85,.12-.09,.27-.15,.42-.24,.07,.63,.09,1.21,.2,1.79,.25,1.39,.98,2.55,1.87,3.64,.27,.33,.62,.51,1.06,.48,.83-.05,1.66-.09,2.49-.19,.22-.03,.53-.23,.6-.42,.1-.29-.14-.57-.42-.69-.35-.15-.73-.28-1.11-.35-1.23-.23-1.83-.87-1.81-2.11,.02-1.68,.57-3.16,1.79-4.38,.35-.35,.62-.8,.88-1.22,.29-.48,.36-.51,.85-.22,.4,.24,.81,.45,1.19,.72,.28,.2,.53,.19,.76-.03,.23-.21,.44-.22,.73-.1,1.05,.45,2.12,.88,3.17,1.32,.36,.15,.69,.06,1.03-.09,.21-.09,.41-.18,.65-.27,.04,.16,.07,.26,.1,.38,.08-.02,.16-.02,.22-.05,.31-.15,.64-.36,.96-.12,.32,.24,.18,.63,.14,.95-.04,.27-.14,.54-.21,.8-.03,.12-.05,.25-.08,.43,.18-.06,.3-.09,.51-.16-.16,1.03-.28,2.01-.07,3.05,.18-.27,.34-.5,.53-.79,.38,.65,.42,1.25,.3,1.91,.75-.2,1.03,.32,1.34,.78,.24,.35,.46,.71,.69,1.06,.3,.44,.72,.73,1.25,.72,1.05,0,2.1-.07,3.15-.13,.09,0,.22-.15,.25-.25,.13-.55-.09-1-.49-1.36-.19-.17-.42-.3-.65-.41-.91-.44-1.38-1.19-1.35-2.15,.02-.91,.18-1.82,.3-2.72,.09-.63,.24-1.26,.34-1.89,.09-.58,.37-1.07,.74-1.51,.57-.68,1.16-1.35,1.76-2.06,.03,.05,.11,.16,.22,.31,.55-.71,.32-1.57,.52-2.44,.18,.24,.3,.4,.41,.55,.06-.47,.14-.95,.18-1.43,.04-.48,.05-.96,.07-1.48,.15,.1,.26,.17,.41,.27,.07-.49,.14-.95,.22-1.49,.31,.21,.53,.36,.84,.57-.04-.19-.05-.26-.07-.33-.18-.58-.44-1.16-.52-1.75-.12-.79-.38-1.51-.78-2.2-.25-.42-.2-.59,.28-.7,.7-.15,1.42-.24,2.14-.35,.76-.12,1.31-.51,1.61-1.22,.25-.6,.16-.97-.4-1.29-.51-.3-1.08-.51-1.62-.76-.24-.11-.49-.22-.72-.36-.36-.23-.56-.57-.57-1-.01-.6-.29-1.05-.77-1.41-.44-.34-.88-.69-1.3-1.06-.33-.29-.66-.57-.71-1.06,0-.09-.16-.22-.27-.25-.73-.22-1.42-.23-2.11,.21-.42,.27-.93,.42-1.41,.58-.29,.1-.45,.24-.49,.54-.13,1.04-.47,1.36-1.53,1.47-.26,.03-.52,.03-.79,.11,.16,.06,.32,.12,.47,.18,0,.04,.01,.07,.02,.11-.47,.22-.98,.38-1.39,.68-.41,.3-.71,.74-1.06,1.13h.83c-.15,.21-.22,.34-.32,.44-.58,.54-1.14,1.1-1.77,1.58-.32,.25-.76,.36-1.17,.49-1.79,.54-3.62,.48-5.47,.36-2.43-.15-4.85,.06-7.25,.44-1.48,.24-2.75,.89-3.53,2.22-.19,.32-.34,.69-.38,1.04-.14,1.21-.79,2.13-1.56,3.01-.33,.37-.65,.74-.97,1.11,.02,.03,.03,.05,.05,.08,.32-.05,.64-.1,.96-.16l.15,.35Z" />
      </symbol>
      <defs>{grad}</defs>
      <use href={`#${id}`} {...props} fill={`url(#${gid})`} />
    </>
  );
};
